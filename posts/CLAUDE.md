# Marketing Posting Factory - System Memory

## System Overview
This is a Phase 3 enhanced multi-agent posting factory that orchestrates specialized creative agents to generate social media content variations based on human requests. The system uses Claude Code's Task tool for parallel subagent processing, advanced context engineering, and modular templates for maximum flexibility and customization.

## Core Architecture

### Router Agent (Phase 3 Enhanced)
- Receives content requests from human workers
- Conducts intelligent questioning with performance-informed context
- Launches specialized subagents with context intelligence loading
- Coordinates parallel processing with quality assurance monitoring
- Organizes agent outputs with performance prediction analysis

### Creative Agent System (Phase 3 Operational)
- **Platform-Specific Agents**: LinkedIn Professional, Twitter Engagement, Instagram Visual, Facebook Community, TikTok Trend (all enhanced with context engineering)
- **Style-Specific Agents**: Professional/Corporate, Conversational, Technical/Educational, Inspirational, Data-Driven, Storytelling (with performance integration)
- **Context Intelligence**: Dynamic context loading with successful pattern integration
- **Quality Assurance**: Real-time quality monitoring with automated quality gates
- **Performance Optimization**: All agents leverage historical performance data for enhanced output

### Template Framework
All system behavior is controlled by editable .md template files:

#### Brand Templates (customizable by user):
- `brand/brand-voice.md` - Company tone, messaging, values
- `brand/visual-style.md` - Colors, fonts, image guidelines
- `brand/audience-personas.md` - Target audience definitions
- `brand/platform-guidelines.md` - Platform-specific requirements
- `brand/successful-templates.md` - Proven post formats and patterns

#### Agent Templates (Phase 3 Enhanced):
- `agents/platform-agents.md` - Platform-specific agent configurations with context intelligence
- `agents/style-agents.md` - Style-specific agent configurations with performance optimization
- `agents/agent-coordination.md` - Multi-agent workflow patterns with quality assurance
- `agents/visual-prompt-agent.md` - Visual content generation with brand consistency automation

#### Context Engineering Templates (Phase 3 New):
- `context/prompt-engineering.md` - Advanced prompt consistency and optimization frameworks
- `context/performance-feedback.md` - Performance data integration and learning loop protocols
- `context/quality-assurance.md` - Automated quality gates and monitoring systems
- `context/context-optimization.md` - Dynamic context loading and prioritization systems

#### System Templates:
- `router-prompts.md` - Question templates, routing logic, and context engineering integration
- `workflow-templates.md` - TodoWrite task patterns with quality assurance workflows

## Current Capabilities (Phase 3 Operational)
- **Context Intelligence System**: Dynamic context loading with successful pattern integration and performance optimization
- **Advanced Quality Assurance**: Real-time quality monitoring with automated quality gates (85+ score requirements)
- **Performance-Driven Generation**: All agents leverage historical performance data for enhanced output optimization
- **Multi-Agent Coordination**: Simultaneous activation of context-enhanced platform agents via Task tool
- **Parallel Content Generation**: Multiple agents generate 15+ content variations with quality prediction scoring
- **Platform Optimization**: Each agent specializes in platform culture with performance pattern integration
- **Style Refinement**: Secondary style agent processing enhanced with successful template application
- **Dynamic Agent Selection**: Router Agent selects optimal combinations based on performance + quality predictions
- **Template-Driven Brand Compliance**: All agents reference shared templates with context optimization protocols
- **Organized Output Management**: Structured presentation with quality scores and performance predictions
- **Enhanced Workflow Processing**: TodoWrite coordination with quality assurance automation

## Usage Pattern (Phase 3.1 Enhanced)
1. Human worker submits content topic request
2. **MANDATORY Router Agent Questioning**: System MUST conduct intelligent questioning using router-prompts.md templates (platform targeting, audience, goals, tone, visual requirements)
3. **Context Intelligence Loading**: Router Agent loads performance patterns, quality thresholds, and successful templates
4. **Multi-Agent Launch**: Simultaneously activates context-enhanced platform agents via Task tool with quality monitoring
5. **Parallel Processing**: Each agent generates 3-5 variations using performance data, successful patterns, and quality gates
6. **Quality Assurance**: Real-time quality scoring (85+ requirements) with automatic revision protocols
7. **Output Coordination**: Router Agent organizes outputs with quality scores, performance predictions, and optimization insights
8. **User Content Selection**: Human selects preferred content variation(s)
9. **AUTOMATIC Visual Integration**: System automatically generates JSON visual prompts for selected content
10. **Complete Packages**: Deliver optimized text + standardized JSON visual prompts with performance enhancement recommendations

## CRITICAL EXECUTION REQUIREMENTS (Phase 3.1)
- **NO WORKFLOW BYPASSING**: Router Agent questioning is MANDATORY - cannot skip to direct content generation
- **STANDARDIZED OUTPUTS**: All visual prompts must be delivered in JSON format with required fields
- **TEMPLATE COMPLIANCE**: All processes must follow established workflow-templates.md patterns
- **CONSISTENT USER EXPERIENCE**: Every content request follows identical questioning â†’ generation â†’ selection â†’ visual prompt workflow

## Memory Integration (Phase 3 Enhanced)
- This CLAUDE.md file serves as persistent system memory with context intelligence
- All agents reference templates enhanced with performance feedback integration
- Successful patterns are captured and dynamically loaded based on context relevance
- System learns and improves through automated performance analysis and template evolution
- Context engineering enables intelligent pattern matching and quality optimization
- Performance feedback loops ensure continuous system enhancement

## Development Status
- âœ… **Phase 1 Complete**: Foundation framework with basic Router Agent and templates
- âœ… **Phase 2 Complete**: Advanced creative agents with parallel processing via Task tool
- âœ… **Phase 3 Complete**: Context engineering and performance feedback integration
- âœ… **Phase 3.1 Complete**: Workflow consistency enforcement and execution standards
- ðŸš€ **Phase 4 Next**: Workflow optimization and analytics
- ðŸ“‹ **Phase 5 Planned**: Real-time trend integration and competitor analysis

## Phase 3 Achievements
- **Context Intelligence System**: Advanced prompt engineering with dynamic context loading and successful pattern integration
- **Performance Feedback Integration**: Historical performance data integration for content optimization and quality prediction
- **Quality Assurance Automation**: Real-time quality monitoring with 85+ score requirements and automated revision protocols
- **Enhanced Agent Capabilities**: All platform agents upgraded with context intelligence and performance optimization
- **Router Enhancement**: Context-informed questioning and agent selection based on performance + quality predictions
- **Successful System Test**: Demonstrated with "AI automation for small businesses" generating high-quality LinkedIn content with measurable performance predictions

## Phase 3.1 Achievements (Workflow Consistency)
- **Router Agent Execution Standards**: Mandatory Router Agent questioning phase enforced for all content requests
- **Workflow Template Compliance**: All content generation must follow established workflow-templates.md patterns
- **JSON Visual Prompt Standards**: Standardized JSON format for all visual content generation requests
- **Process Enforcement**: Eliminated workflow bypassing to ensure consistent user experience and quality outputs
- **Template Integration**: Full integration between router-prompts.md questioning and agent coordination systems

## Phase 3 Technical Implementation
- **Context Engineering Framework**: 4 comprehensive template systems for prompt engineering, performance feedback, quality assurance, and context optimization
- **Quality Gate System**: Automated quality scoring with Brand Voice Consistency (85+), Platform Authenticity (85+), and Performance Potential assessment
- **Performance Integration Protocol**: Dynamic loading of successful patterns with context relevance scoring and performance prediction modeling
- **Enhanced Agent Architecture**: All platform agents enhanced with context intelligence loading, quality self-assessment, and performance optimization
- **Router Intelligence**: Advanced questioning with performance-informed context, quality predictions, and context synchronization across multiple agents
- **Validated System Performance**: Successfully generated content exceeding quality thresholds with performance optimization elements and successful pattern application

## Previous Phase Achievements

### Phase 2 Achievements
- **Multi-Agent System**: Platform and style agents operational with specialized templates
- **Parallel Processing**: Task tool integration enables simultaneous agent activation
- **Enhanced Workflows**: TodoWrite patterns support complex multi-agent coordination
- **Quality Output**: Demonstrated with content generation across multiple platforms
- **Router Coordination**: Successfully orchestrates multiple agents and organizes outputs

## System Performance Metrics (Phase 3 Enhanced)
- **Content Generation Speed**: 15+ variations generated simultaneously with quality prediction scoring
- **Quality Assurance**: 85+ quality score requirements with automated monitoring and revision protocols
- **Performance Optimization**: Historical performance data integration for enhanced content effectiveness
- **Platform Optimization**: Each agent specializes in platform culture with successful pattern integration
- **Brand Consistency**: All agents reference shared templates with context intelligence enhancement
- **Context Intelligence**: Dynamic context loading with successful pattern matching and performance prediction
- **Workflow Efficiency**: TodoWrite coordination with quality assurance automation and performance tracking
- **Ready for Scale**: System architecture supports adding additional platforms with context engineering integration